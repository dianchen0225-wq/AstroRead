import { ContentParserTest } from './ContentParserTest';

/**
 * æµ‹è¯•è¿è¡Œå™¨ - ç”¨äºéªŒè¯ContentParserä¿®å¤æ•ˆæœ
 */
export class TestRunner {
  
  /**
   * è¿è¡Œæ‰€æœ‰æµ‹è¯•å¹¶æ˜¾ç¤ºç»“æœ
   */
  static runTests(): void {
    console.log('ğŸš€ å¼€å§‹è¿è¡ŒContentParseræµ‹è¯•å¥—ä»¶...\n');
    
    const startTime = Date.now();
    const success = ContentParserTest.runAllTests();
    const endTime = Date.now();
    
    console.log(`\nâ±ï¸  æµ‹è¯•è€—æ—¶: ${endTime - startTime}ms`);
    
    if (success) {
      console.log('âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ContentParserä¿®å¤æˆåŠŸã€‚');
    } else {
      console.log('âŒ éƒ¨åˆ†æµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä¿®å¤å†…å®¹ã€‚');
    }
  }
  
  /**
   * å•ç‹¬è¿è¡Œç‰¹å®šæµ‹è¯•
   */
  static runSpecificTest(testName: string): void {
    console.log(`ğŸ” è¿è¡Œç‰¹å®šæµ‹è¯•: ${testName}\n`);
    
    let result = false;
    
    switch (testName) {
      case 'jsonpath':
        result = ContentParserTest.testJsonPathSearch();
        break;
      case 'regex':
        result = ContentParserTest.testRegexSearch();
        break;
      case 'purification':
        result = ContentParserTest.testContentPurification();
        break;
      case 'chapter':
        result = ContentParserTest.testChapterParsing();
        break;
      case 'error':
        result = ContentParserTest.testErrorHandling();
        break;
      default:
        console.log('âŒ æœªçŸ¥æµ‹è¯•åç§°');
        return;
    }
    
    console.log(`\n${result ? 'âœ…' : 'âŒ'} ${testName}æµ‹è¯•: ${result ? 'é€šè¿‡' : 'å¤±è´¥'}`);
  }
}